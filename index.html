<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/png" href="img/favicon.png">

    <title>Document</title>

    <style>
        * {
            font-family: Arial, sans-serif;
            color: #fff;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #2e2e2e;
            overflow: hidden; /* Prevent main page scrolling */
        }

        /* --- GRID LAYOUT --- */
        .container {
            display: grid;
            grid-template-columns: 40% 60%;
            height: 100vh;
        }

        /* --- IMAGE SECTION --- */
        .image-panel {
            position: relative;
            overflow: hidden;
            animation: fadeIn 1.2s ease;
        }

        .image-panel img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(100%) contrast(1.1);
            transform: scale(1.05);
            transition: transform 8s ease, filter 0.5s ease;
        }

        .image-panel:hover img {
            transform: scale(1.1);
            filter: grayscale(50%) contrast(1.2);
        }

        /* Soft gradient overlay */
        .image-panel::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, rgba(0,0,0,0.6), transparent);
        }

        /* --- TEXT PANEL --- */
        .text-panel {
            padding: 80px 90px;
            overflow-y: auto;
            animation: slideUp 1s ease;
            line-height: 1.7;
        }

        .text-panel h1 {
            font-size: 42px;
            margin-bottom: 25px;
            letter-spacing: 1px;
        }

        .text-panel p {
            margin-bottom: 24px;
            max-width: 700px;
            color: #f1f1f1;
        }

        /* --- SCROLLBAR STYLE --- */
        .text-panel::-webkit-scrollbar {
            width: 8px;
        }
        .text-panel::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 4px;
        }

        /* --- ANIMATIONS --- */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- RESPONSIVE DESIGN --- */
        @media (max-width: 900px) {
            .container {
                grid-template-columns: 1fr;
                height: auto;
            }

            .image-panel {
                height: 55vh;
            }

            body {
                overflow: auto;
            }

            .text-panel {
                height: auto;
                padding: 40px 25px;
            }
        }
    </style>
</head>

<body>

    <div class="container">

        <div class="image-panel">
            <img src="img/gothic.png" alt="Image">
        </div>

        <div class="text-panel">

            <!-- <div id="glitch-text" style="font-family: monospace; margin-top: 10px; margin-bottom: 20px; font-size: 22px;"></div> -->
            <div id="matrix" style="font-family: monospace; margin-top: 40px; line-height: 1.2;"></div>

            <h1>Lorem Ipsum ---</h1>

            <p>2025 WALKINGIN 在冰上行走</p>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>

            <div id="typewriter" style="font-family: monospace; margin-top: 40px; font-size: 16px; white-space: pre-wrap;"></div>

            <div id="fish-animation" style="font-family: monospace; margin-top: 40px;"></div>

            <!-- <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p> -->

        </div>

    </div>

    <script>
    
    const fishBox = document.getElementById("fish-animation");

    let fish = "-<°)))><. -<°)))><. -<°)))><";
    let maxLength = 50;
    let position = maxLength - fish.length; // start on the right

    function animateFish() {
        // Build empty track
        let track = ".".repeat(maxLength);

        // Insert fish moving LEFT
        let output =
            track.substring(0, position) +
            fish +
            track.substring(position + fish.length);

        // Regex cleaning (optional)
        output = output.replace(/\.{2,}/g, m => ".".repeat(m.length));

        // Render
        fishBox.textContent = output;

        // Move LEFT
        position--;

        // If offscreen, reset to the right side
        if (position < 0) {
            position = maxLength - fish.length;
        }
    }

    // Run animation every 80ms
    setInterval(animateFish, 80);


    // --- GLITCH TEXT ANIMATION ---
    const glitchBox = document.getElementById("glitch-text");

    // Text to glitch
    const baseText = "Hello!";

    // Characters used to glitch
    const glitchChars = ["@", "#", "%", "£", "§", "&", "?", "!", "*", "Ξ", "∅", "⌁", "▞", "▚"];

    function glitchFrame() {
        // Take the original text
        let output = baseText;

        // REGEX: randomly replace 1–3 characters with glitch symbols
        output = output.replace(/./g, (char) => {
            // ~10% chance to glitch each character
            if (Math.random() < 0.1) {
                return glitchChars[Math.floor(Math.random() * glitchChars.length)];
            }
            return char;
        });

        // Display output
        glitchBox.textContent = output;
    }

    // Update every 80ms
    setInterval(glitchFrame, 80);


    // --- TYPEWRITER EFFECT ---
     const typeBox = document.getElementById("typewriter");

    const text = "When walking on ice, move slowly, breathe softly, and trust your steps.";
    let index = 0;
    let cursorVisible = true;

    function typeWriter() {
        if (index <= text.length) {
            // Reveal text character by character
            typeBox.textContent = text.substring(0, index) + (cursorVisible ? "_" : " ");
            index++;
        } else {
            // After finishing, continue blinking cursor
            typeBox.textContent = text + (cursorVisible ? "_" : " ");
        }
    }

    // Cursor blink toggle
    setInterval(() => {
        cursorVisible = !cursorVisible;
    }, 400);

    // Typewriter speed
    setInterval(typeWriter, 60);


    // --- MATRIX RAIN EFFECT ---
    const matrixBox = document.getElementById("matrix");

    // Characters for the matrix rain
    const chars = "01アカサタナハマヤラワZXCVBNM$#%*+-<>";
    
    const width = 40;    // characters per line
    const height = 20;   // number of rows displayed
    let columns = [];

    // Initialize columns – each column has a "y" position
    for (let i = 0; i < width; i++) {
        columns[i] = Math.floor(Math.random() * height);
    }

    function matrixFrame() {
        let output = "";

        for (let row = 0; row < height; row++) {
            for (let col = 0; col < width; col++) {
                
                // If the falling position is at this row, print random char
                if (columns[col] === row) {
                    output += chars.charAt(Math.floor(Math.random() * chars.length));
                } else {
                    output += " ";
                }
            }
            output += "\n";
        }

        // Move each column downward, reset randomly
        for (let i = 0; i < width; i++) {
            if (Math.random() > 0.975) {
                columns[i] = 0;
            } else {
                columns[i]++;
            }
            if (columns[i] > height) columns[i] = 0;
        }

        // Render into the text panel
        matrixBox.textContent = output;
    }

    setInterval(matrixFrame, 80); // speed of animation

    </script>

</body>

</html>
